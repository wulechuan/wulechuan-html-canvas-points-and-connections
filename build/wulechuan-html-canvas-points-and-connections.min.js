!function(){function n(n){function t(n){"boolean"==typeof(n=n||{}).pointsAreRounded&&(C=n.pointsAreRounded),"boolean"==typeof n.shouldBoundAtBoundary&&(I=n.shouldBoundAtBoundary),n.pointSize&&(y=n.pointSize),n.thickestLineWidth&&(P=n.thickestLineWidth),n.maxDistanceToMakeConnection&&(x=n.maxDistanceToMakeConnection),n.pointsCount&&(g=n.pointsCount),n.pointColorRGB&&(m=n.pointColorRGB),n.lineColorRGB&&(b=n.lineColorRGB),n.lineWidthDrawingThreshold&&(O=n.lineWidthDrawingThreshold),n.speedMin&&(M=n.speedMin),n.speedMax&&(w=n.speedMax),W=x*x,l=C?a:r,n.hasOwnProperty("updateOnePointOnIteration")&&("function"==typeof n.updateOnePointOnIteration?v.updateOnePointOnIteration=n.updateOnePointOnIteration:v.updateOnePointOnIteration=c);var t=v.generateOnePoint;n.hasOwnProperty("generateOnePoint")&&("function"==typeof n.generateOnePoint?v.generateOnePoint=n.generateOnePoint:v.generateOnePoint=h),L&&t!==v.generateOnePoint&&d()}function e(){window.addEventListener("mousemove",function(n){k=n.clientX,T=n.clientY}),window.addEventListener("mouseout",function(){k=null,T=null})}function i(n){f.width=f.clientWidth,f.height=f.clientHeight,"function"==typeof n?n(f):o(0,0,f.width,f.height)}function o(n,t,e,i){B=Math.min(n,e),A=Math.max(n,e),R=Math.min(t,i),D=Math.max(t,i)}function a(n,t){p.fillStyle="rgba("+m+",1)",p.beginPath(),p.arc(n,t,y/2,0,2*Math.PI),p.fill()}function r(n,t){p.fillRect(n-y/2,t-y/2,y,y)}function u(n,t,e,i,o){var a=1-o,r=P*a;if(!(r<O)){var u="rgba("+b+","+Math.min(1,a+.5)+")";p.lineWidth=r,p.strokeStyle=u,p.beginPath(),p.moveTo(n,t),p.lineTo(e,i),p.stroke()}}function d(){S.length=0;for(var n=0;n<g;n++){var t={};v.generateOnePoint(t,g,B,R,A,D),v.updateOnePointOnIteration(t,M,w,g,B,R,A,D),S.push(t)}}function h(n){n.x=G()*(A-B)+B,n.y=G()*(D-R)+R}function c(n){var t,e;if(n.hasOwnProperty("vx")){var i=n.speed,o=n.direction;t=i*(.1*G()+.95),e=o+(8*G()-4)/360*Math.PI}else t=G()*(w-M)+M,e=2*G()*Math.PI;n.speed=t,n.direction=e,n.vx=t*Math.sin(e),n.vy=t*Math.cos(e)}function s(n,t,e,i){var o=n-e,a=t-i,r=o*o+a*a;return Math.min(1,r/W)}var l,v=this,f=n.canvas,p=f.getContext("2d"),O=.2,y=6,P=2,x=160,g=60,M=.8,w=2.4,m="0,0,0",b="0,0,0",C=!0,I=!0,B=0,R=0,A=0,D=0,k=null,T=null,W=1e5,S=[],G=Math.random;v.generateOnePoint=h,v.updateOnePointOnIteration=c,v.drawFrame=function(){var n,t,e;p.clearRect(0,0,f.width,f.height),S.forEach(function(i,o){v.updateOnePointOnIteration(i),i.x+=i.vx,i.y+=i.vy,n=i.x,t=i.y,I&&(n>A&&(i.vx=-1*Math.abs(i.vx)),t>D&&(i.vy=-1*Math.abs(i.vy)),n<B&&(i.vx=Math.abs(i.vx)),t<R&&(i.vy=Math.abs(i.vy)));for(var a=o+1;a<S.length;a++)e=S[a],u(n,t,e.x,e.y,s(n,t,e.x,e.y)),null!==k&&u(n,t,k,T,s(n,t,k,T));l(n,t)}),null!==k&&l(k,T)}.bind(v),v.updateCanvasSize=i.bind(v),v.setActiveArea=o.bind(v),t(n),e(),i(),d(),L=!0;var L=!1}n.utilities={canvasPoint2D:function(n){function t(n){function t(t){n.hasOwnProperty(t)&&(i[t]=n[t])}n=n||{},t("m"),t("x"),t("y"),t("vx"),t("vy"),t("speed"),t("speedDirection")}function e(){}var i=this;i.m=1,i.x=0,i.y=0,i.vx=0,i.vy=0,i.speed=0,i.speedDirection=0,function(n){e(),t(n)}(n)}},window.wulechuanCanvasPointsAndConnections=n}();