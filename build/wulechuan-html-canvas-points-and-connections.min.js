!function(){function e(e,t){return f()*(t-e)+e}function t(){return(new Date).getTime()/1e3}function n(e){function t(e){function t(t){e.hasOwnProperty(t)&&(B[t]=e[t])}e=e||{},t("length2"),t("length"),t("direction"),t("directionRadian"),t("x"),t("y"),t("value")}function r(){return x<=T}function i(){return!!r()&&(S=NaN,M=NaN,I=NaN,C=NaN,!0)}function o(){M=S*m,f()}function a(){S=M*b,f()}function c(){D=x*s(M),A=x*d(M)}function u(){x=l(F=D*D+A*A),i()||(M=p(A,D),a())}function f(){I=M%g,C=S%360}function y(e,t){var r=NaN,i=NaN;return e instanceof n?(r=e.x,i=e.y):Array.isArray(e)?e.length>1&&(r=parseFloat(e[0]),i=parseFloat(e[1])):e&&"object"==typeof e&&e.hasOwnProperty("x")?(r=parseFloat(e.x),i=parseFloat(e.y)):(r=parseFloat(e),i=parseFloat(t)),[r,i]}function h(e,t){var n=y(e,t),r=n[0],i=n[1];return isNaN(r)||isNaN(i)||(D=r,A=i,u()),[D,A]}function v(e,t){var n=y(e,t),r=n[0]-D,i=n[1]-A;return isNaN(r)||isNaN(i)?NaN:r*r+i*i}function O(){return[A,D]}function P(e){var t=D,n=A;return e=parseFloat(e),isNaN(e)||(t*=e,n*=e),[t,n]}function w(e,t,n){var r=y(e,t),i=D,o=A,a=r[0],c=r[1];return isNaN(a)||isNaN(c)||(n?(i-=a,o-=c):(i+=a,o+=c)),[i,o]}function R(e){return S+e}function j(e){return M+e}var B=this,T=N,D=0,A=0,x=0,F=0,S=NaN,M=NaN,C=NaN,I=NaN;Object.defineProperty(B,"x",{enumerable:!0,get:function(){return D},set:function(e){return e=parseFloat(e),isNaN(e)||(D=e,u()),D}}),Object.defineProperty(B,"y",{enumerable:!0,get:function(){return A},set:function(e){return e=parseFloat(e),isNaN(e)||(A=e,u()),A}}),Object.defineProperty(B,"value",{enumerable:!0,get:function(){return[D,A]},set:h}),Object.defineProperty(B,"isZeroVector",{enumerable:!0,get:function(){return r()}}),Object.defineProperty(B,"length",{enumerable:!0,get:function(){return x},set:function(e){return(e=parseFloat(e))>=0&&(F=(x=e)*x,i(),c()),x}}),Object.defineProperty(B,"length2",{enumerable:!0,get:function(){return F},set:function(e){return(e=parseFloat(e))>=0&&(x=l(F=e),i(),c()),F}}),Object.defineProperty(B,"direction",{enumerable:!0,get:function(){return S},set:function(e){return r()||(e=parseFloat(e),isNaN(e)||(S=e),o(),c()),S}}),Object.defineProperty(B,"directionBetween0And360",{enumerable:!0,get:function(){return C}}),Object.defineProperty(B,"directionRadian",{enumerable:!0,get:function(){return M},set:function(e){return r()||(e=parseFloat(e),isNaN(e)||(M=e),a(),c()),M}}),Object.defineProperty(B,"directionBetween0And2Pi",{enumerable:!0,get:function(){return I}}),B.setValue=h,B.equalTo=function(e,t){var n=y(e,t),r=n[0],i=n[1];return!isNaN(r)&&!isNaN(i)&&D==r&&A===i},B.getDistanceTo=function(e,t){return l(v(e,t))},B.getDistance2To=v,B.swapComponents=function(){return B.value=O(),B},B.add=function(e,t){return B.value=w(e,t,!1),B},B.subtract=function(e,t){return B.value=w(e,t,!0),B},B.multiplyByScalar=function(e){return B.value=P(e),B},B.rotateBy=function(e){return B.direction=R(e),B},B.rotateByRadians=function(e){return B.directionRadian=R(e),B},B.getNewArrayOfSwappedComponents=O,B.getNewArrayAddedBy=function(e,t){return w(e,t,!1)},B.getNewArraySubtractedBy=function(e,t){return w(e,t,!0)},B.getNewArrayMultipliedByScalar=P,B.getNewVectorOfSwappedComponents=function(){return new n({value:O()})},B.getNewVectorAddedBy=function(e,t){return new n({value:w(e,t,!1)})},B.getNewVectorSubtractedBy=function(e,t){return new n({value:w(e,t,!0)})},B.getNewVectorMultipliedByScalar=function(e){return new n({value:P(e)})},B.getNewVectorRotatedBy=function(e){var t=R(e);return new n({length:x,direction:t})},B.getNewVectorRotatedByRadians=function(e){var t=j(e);return new n({length:x,directionRadian:t})},t(e)}function r(e,t,r){function i(e){r[e]&&"string"==typeof r[e]&&(o[e]=r[e])}if("object"!=typeof e||!e)throw TypeError("The grantee to impart methods and properties to must be an object, and not a null.");"object"==typeof t&&t||(t=e);var o={};"string"==typeof(r=r||{})?o.velocity=r:r.velocity&&"string"==typeof r.velocity?o.velocity=r.velocity:o.velocity="velocity";var a=o.velocity;o.speed="speed",o.speed2="speed2",o.velocityDirection=a+"Direction",o.velocityDirectionRadian=a+"DirectionRadian",o.turnBy="turnBy",o.turnByRadians="turnByRadians",i("speed"),i("speed2"),i("velocityDirection"),i("velocityDirectionRadian"),i("turnBy"),i("turnByRadians");var c=new n;Object.defineProperty(t,o.velocity,{enumerable:!0,get:function(){return c},set:function(e){return c.value=e}}),Object.defineProperty(t,o.speed,{enumerable:!0,get:function(){return c.length},set:function(e){return c.length=e,c.length}}),Object.defineProperty(t,o.speed2,{enumerable:!0,get:function(){return c.length2},set:function(e){return c.length2=e,c.length2}}),Object.defineProperty(t,o.velocityDirection,{enumerable:!0,get:function(){return c.direction},set:function(e){return c.direction=e,c.direction}}),Object.defineProperty(t,o.velocityDirectionRadian,{enumerable:!0,get:function(){return c.directionRadian},set:function(e){return c.directionRadian=e,c.directionRadian}}),e[o.turnBy]=function(e){c.direction+=e},e[o.turnByRadians]=function(e){c.directionRadian+=e}}function i(e,t,r){function i(e){r[e]&&"string"==typeof r[e]&&(o[e]=r[e])}if("object"!=typeof e||!e)throw TypeError("The grantee to impart methods and properties to must be an object, and not a null.");"object"==typeof t&&t||(t=e);var o={};"string"==typeof(r=r||{})?o.force=r:r.force&&"string"==typeof r.force?o.force=r.force:o.force="force";var a=o.force;o.forceStrength=a+"Strength",o.forceStrength2=a+"Strength2",o.forceDirection=a+"Direction",o.forceDirectionRadian=a+"DirectionRadian",i("forceStrength"),i("forceStrength2"),i("forceDirection"),i("forceDirectionRadian");var c=new n;Object.defineProperty(t,o.force,{enumerable:!0,get:function(){return c},set:function(e){return c.value=e}}),Object.defineProperty(t,o.forceStrength,{enumerable:!0,get:function(){return c.length},set:function(e){return c.length=e,c.length}}),Object.defineProperty(t,o.forceStrength2,{enumerable:!0,get:function(){return c.length2},set:function(e){return c.length2=e,c.length2}}),Object.defineProperty(t,o.forceDirection,{enumerable:!0,get:function(){return c.direction},set:function(e){return c.direction=e,c.direction}}),Object.defineProperty(t,o.forceDirectionRadian,{enumerable:!0,get:function(){return c.directionRadian},set:function(e){return c.directionRadian=e,c.directionRadian}})}function o(e,n,r){function i(e){r[e]&&"string"==typeof r[e]&&(p[e]=r[e])}function o(){}function a(){var e;(e=m?t():b)>=g?(P=!0,f(e-g)):(P=!1,w=!1,h=NaN,v=NaN)}function c(e){(e=parseInt(e))>0?m=!1:(m=!0,e=t()),g=e,a()}function u(e){e=parseInt(e),isNaN(e)?(m=!0,b=NaN,a()):e>0&&e!==b&&(m=!1,b=e,a())}function f(e){return(e=parseFloat(e))>=0&&(h=e>O?O:e),l(),s(),h}function l(){v=isNaN(O)||isNaN(h)?NaN:h/O,d()}function s(){g=isNaN(h)?NaN:m?t()-h:b-h}function d(){h>=O&&(h=O,v=1,w=!0)}if("object"!=typeof e||!e)throw TypeError("The grantee to impart methods and properties to must be an object, and not a null.");"object"==typeof n&&n||(n=e);var p={};"string"==typeof(r=r||{})?p.age=r:r.age&&"string"==typeof r.age?p.age=r.age:p.age="age";var y=p.age;p.ageRatio=y+"Ratio",p.ageLimitation=y+"Limitation",p.ageReferenceTime=y+"ReferenceTime",p.ageReferenceTimeIsWallClockTime=y+"ReferenceTimeIsWallClockTime",p.bornTime="bornTime",p.hasBeenBorn="hasBeenBorn",p.isDead="isDead",p.isAlive="isAlive",p.bearOn="bearOn",i("ageRatio"),i("ageLimitation"),i("ageReferenceTime"),i("ageReferenceTimeIsWallClockTime"),i("bornTime"),i("hasBeenBorn"),i("isDead");var g=NaN,b=NaN,m=!0,h=NaN,v=NaN,O=NaN,P=!1,w=!1;Object.defineProperty(n,p.age,{enumerable:!0,get:function(){return h},set:f}),Object.defineProperty(n,p.ageRatio,{enumerable:!0,get:function(){return v},set:function(e){return isNaN(O)||(e=parseFloat(e))>=0&&e<=1&&(h=O*(v=e),s(),d()),v}}),Object.defineProperty(n,p.ageLimitation,{enumerable:!0,get:function(){return O},set:function(e){return(e=parseFloat(e))>=N&&(O=e),l(),O}}),Object.defineProperty(n,p.ageReferenceTimeIsWallClockTime,{enumerable:!0,get:function(){return m},set:function(e){e&&u(NaN)}}),Object.defineProperty(n,p.ageReferenceTime,{enumerable:!0,get:function(){return b},set:u}),Object.defineProperty(n,p.bornTime,{enumerable:!0,get:function(){return g},set:c}),Object.defineProperty(n,p.hasBeenBorn,{enumerable:!0,get:function(){return P},set:o}),Object.defineProperty(n,p.isDead,{enumerable:!0,get:function(){return w},set:o}),Object.defineProperty(n,p.isAlive,{enumerable:!0,get:function(){return P&&!w},set:o}),e[p.bearOn]=c}function a(e){function t(e){function t(t){e.hasOwnProperty(t)&&(d[t]=e[t])}function n(t){e.hasOwnProperty(t)&&(d[t].value=e[t])}e=e||{},t("mass"),t("ageRatio"),t("age"),t("ageLimitation"),t("bornTime"),t("x"),t("y"),n("velocity"),n("force")}function a(){Object.defineProperty(d,"mass",{enumerable:!0,get:function(){return p},set:function(e){return(e=parseFloat(e))>=0&&(p=e),p}}),Object.defineProperty(d,"x",{enumerable:!0,get:function(){return y.x},set:function(e){return y.x=e,y.x}}),Object.defineProperty(d,"y",{enumerable:!0,get:function(){return y.y},set:function(e){return y.y=e,y.y}}),Object.defineProperty(d,"position",{enumerable:!0,get:function(){return y},set:function(e){return y.value=e}})}function c(e){d.isAlive&&(p<=N||(e=parseFloat(e))<=N||(g.add(b.getNewArrayMultipliedByScalar(1/p)),y.add(g.getNewArrayMultipliedByScalar(e))))}function u(){y.setValue.apply(y,arguments)}var f="velocity",l="force",s="age",d=this,p=1,y=new n;!function(e){a(),r(d,null,{velocity:f}),i(d,null,l),o(d,null,{age:s,bearOn:"bearOn"}),t(e),d.move=c,d.moveTo=u,d.setPosition=u,d.onMove=void 0}(e);var g=d[f],b=d[l],m=d.bearOn;(e=e||{}).doNotBearOnInit||m(e.bornTime)}function c(t){function n(e){"boolean"==typeof(e=e||{}).pointsAreRounded&&(A=e.pointsAreRounded),"boolean"==typeof e.shouldBoundAtBoundary&&(x=e.shouldBoundAtBoundary),e.pointSize&&(w=e.pointSize),e.thickestLineWidth&&(R=e.thickestLineWidth),e.maxDistanceToMakeConnection&&(j=e.maxDistanceToMakeConnection),e.pointsCount&&(B=e.pointsCount),e.pointColorRGB&&(T=e.pointColorRGB),e.lineColorRGB&&(D=e.lineColorRGB),e.lineWidthDrawingThreshold&&(P=e.lineWidthDrawingThreshold),J=j*j,m=A?c:f,e.hasOwnProperty("updateOneParticleOnIteration")&&("function"==typeof e.updateOneParticleOnIteration?h.updateOneParticleOnIteration=e.updateOneParticleOnIteration:h.updateOneParticleOnIteration=N);var t=h.initOneParticle;e.hasOwnProperty("initOneParticle")&&("function"==typeof e.initOneParticle?h.initOneParticle=e.initOneParticle:h.initOneParticle=y),U&&t!==h.initOneParticle&&p()}function r(){window.addEventListener("mousemove",function(e){Y=e.clientX-H,Z=e.clientY-X}),window.addEventListener("mouseout",function(){Y=NaN,Z=NaN})}function i(e){v.width=v.clientWidth,v.height=v.clientHeight;var t=v.getBoundingClientRect();H=t.left,X=t.top,"function"==typeof e?e(v):o(0,0,v.width,v.height)}function o(e,t,n,r){q=Math.min(e,n),z=Math.max(e,n),E=Math.min(t,r),G=Math.max(t,r)}function c(e,t){O.fillStyle="rgba("+T+",1)",O.beginPath(),O.arc(e,t,w/2,0,g),O.fill()}function f(e,t){O.fillRect(e-w/2,t-w/2,w,w)}function l(e,t,n,r,i,o){var a=1-i,c=R*a;c<P||(o||(o="rgba("+D+","+Math.min(1,.3*a+.3)+")"),O.lineWidth=c,O.strokeStyle=o,O.beginPath(),O.moveTo(e,t),O.lineTo(n,r),O.stroke())}function s(e){if(!(e.speed*k<2)){var t=e.position.x,n=e.position.y,r=e.velocity.x,i=e.velocity.y;l(t,n,t+r*k,n+i*k,0,W)}}function d(e){if(!(e.forceStrength*V<2)){var t=e.position.x,n=e.position.y,r=e.force.x,i=e.force.y;l(t,n,t+r*V,n+i*V,0,L)}}function p(){Q.length=0;for(var e=0;e<B;e++){var t=new a({});h.initOneParticle(t,B,q,E,z,G),Q.push(t)}}function y(t){t.position=[e(q,z),e(E,G)]}function N(t,n){t.force.add([e(-.1,.1),e(-.1,.1)]),t.move(n)}function b(e,t){var n=e.getDistance2To(t)/J;return Math.min(1,n)}var m,h=this,v=t.canvas,O=v.getContext("2d"),P=.2,w=2,R=2,j=160,B=60,T="0,0,0",D="0,0,0",A=!0,x=!0,F=!1,S=!0,M=!0,C=!1,I=!1,k=.5,V=10,W="rgba(219, 51, 0, 0.79)",L="yellow",q=0,E=0,z=0,G=0,H=NaN,X=NaN,Y=NaN,Z=NaN,J=j*j,K=NaN,Q=[];h.initOneParticle=y,h.updateOneParticleOnIteration=N,h.drawFrame=function(e){var t=e-K;F||O.clearRect(0,0,v.width,v.height),Q.forEach(function(e,n){var r,i=e.position,o=i.x,a=i.y;if(h.updateOneParticleOnIteration(e,t),M)for(var c=n+1;c<Q.length;c++)l(o,a,(r=Q[c]).x,r.y,b(e.position,r.position)),isNaN(Y)||l(o,a,Y,Z,b(e.position,{x:Y,y:Z}));S&&m(o,a),C&&s(e),I&&d(e);var f=e.velocity,p=f.x,y=f.y;x&&(o>z&&(f.x=-1*u(p)),a>G&&(f.y=-1*u(y)),o<q&&(f.x=u(p)),a<E&&(f.y=u(y)))}),isNaN(Y)||!S||F||m(Y,Z),K=e},h.updateCanvasPositionAndSize=i,h.setActiveArea=o,n(t),r(),i(),p(),U=!0;var U=!1}window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var u=Math.abs,f=Math.random,l=Math.sqrt,s=Math.sin,d=Math.cos,p=(Math.tan,Math.atan2),y=Math.PI,g=2*y,N=u(1e-9),b=180/y,m=y/180;n.presets={impartVelocityPropertiesTo:r,impartForcePropertiesTo:i},c.utilities={wulechuan2DVector:n,wulechuan2DParticle:a},window.wulechuanCanvasPointsAndConnections=c}();
//# sourceMappingURL=build/wulechuan-html-canvas-points-and-connections.min.js.map
